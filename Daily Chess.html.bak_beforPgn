
<!doctype html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Chess</title>

		<link href="css/bootstrap-slider.css" rel="stylesheet" type="text/css">
		<link href="css/chessboard-0.css" rel="stylesheet" type="text/css">
		<link href="css/jasny-bootstrap.css" rel="stylesheet" type="text/css">
		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link href="css/chess.css" rel="stylesheet" type="text/css" />
		<link rel="stylesheet" href="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.map">
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
		<script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
		<script src="http://cdn.bootcss.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		<script src="js/chess.js" type="text/javascript"></script>
		<script src="js/chessboard-0.js" type="text/javascript"></script>

	</head>
	<body>
	<div class="toolbar"> <a href="Index.html"><img src="images/logo2.png" title="首页" width="32" height="32" /></a>
		<img src="images/toolbar00.png"  />
		<a href="Lessons.html"><img src="images/toolbar01.png" title="学习" width="32" height="32" /></a>
		<img src="images/toolbar00.png"  />
		<a href="Game.html"><img src="images/toolbar02.png" title="下棋" width="32" height="32" /></a>
		<img src="images/toolbar00.png"  />
		<a href="#"><img src="images/toolbar03.png" title="比赛" width="32" height="32" /></a>
		<img src="images/toolbar00.png"  />
		<a href="Blog.html"><img src="images/toolbar04.png" title="用户" width="32" height="32" /></a>
		<img src="images/toolbar00.png"  />
		<a href="#"><img src="images/toolbar05.png" title="帮助" width="32" height="32" /></a>
	</div>
	<div class="mainbody">
		<ul>
			<li><div class="topmenu"><a href="login.html" class="topmunubutton"><span class="glyphicon glyphicon-arrow-left topmunubuttonicon"></span>退出</a><a href="#" class="topmunubutton"><span class="glyphicon glyphicon-cog topmunubuttonicon"></span>管理</a></div></li>
			<div class="chessposition01" >
				<div class="chessboardposition">
				<div class="chessboardmainposition" id="chessboardpostion" style=": 0 3px 7px rgba(0,0,0,0.5);border-radius: 5px 5px 5px 5px;"><img src="images/chessboard1.png" ></div></div>
			</div>
		
			<div class="chessposition02">
			<div id="setTab" class="">
				<ul class="tab" role="tablist">
				
					<li class="tag01 active btn btn-default btn-md"><span><a href="#fentab" target="_self"  data-toggle="tab"><i class="fa fa-pencil fa-fw"></i> FEN编辑</a></span>
					</li>
					<li class="tag02 btn btn-default btn-md"><span><a href="#pgntab" target="_self"     data-toggle="tab"><i class="fa fa-magic fa-fw"></i> PGN编辑</a></span>
					</li>
					<li class="tag03 btn btn-default btn-md"><span><a href="#testtab" target="_self"  data-toggle="tab"><i class="fa fa-wrench fa-fw"></i> 题目编辑</a></span>
					</li>				
					<li class="clear"></li>
					<li>
						<div class="tab-content">
							<div class="tab-pane fade in active" id="fentab">
								<div class="positionSet">
									<ul>
										<li class="positionFenFirst">
											<div class="input-group input-group-sm fenInput">
												<span class="input-group-addon">FEN</span>
												<input type="text" class="bg-info form-control" id="fenDisplay" value="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"></input>
											</div>
											<div class="btn-group position1">
												<button class="btn btn-default btn-md " id="fenUpLoad"><span class="glyphicon glyphicon-cloud-upload"></span> FEN上传</button>
												<button class="btn btn-default btn-md " id="fenDownLoad"><span class="glyphicon glyphicon-cloud-download"></span> FEN更新</button>
											</div>
										</li>
										<li class="clear"></li>
										<li class="positionFen">
											<div class="btn-group position2">
											<button class="btn btn-default btn-lg btnPosition" id="startPosition"><span class="glyphicon glyphicon-play-circle"></span>  开始局面</buttion>
											<button class="btn btn-default btn-lg btnPosition" id="clearPosition"><span class="glyphicon glyphicon-repeat"></span>  清除局面</buttion>
											<button class="btn btn-default btn-lg btnPosition" id="flipPosition"><span class="glyphicon glyphicon-retweet"></span>  棋盘反置</buttion>
											<div>
										</li>
										<li class="clear"></li>
										<li class="positionFen position3">
											<div class="positionBox">
												<div class="positionAct">
												<label> 白方移位 O-O </label>	<input type="checkbox" calss="checkbox" checked="true">
												<input type="checkbox" checked="true"> <label> 白方移位 O-O-O </label>	<br>
												<label> 黑方移位 O-O </label>	<input type="checkbox" checked="true">
												<input type="checkbox" checked="true"> <label> 黑方移位 O-O-O </label>	
												</div>
												<div class="positionMove">							
												<label for="">白方先走</label><input type="radio" checked="checked" name="tempo" value="白方先走"><br>
												<label for="">黑方先走</label><input type="radio" name="tempo" value="黑方先走" />
												</div>
											</div>		
										</li>
										<li class="clear"></li>
										<li>
											<div class="positionFen positionSearch">
												<div class="input-group input-group-sm fenInput">
												<input type="text" class="bg-info form-control" id="fenDisplay" placeholder="开局搜索: E01 或者 意大利 或者 e4 e5 Nf3 Nc6 Bb6"></input>
												<span class="input-group-btn"><button class="btn btn-default" type="button"><i class="fa fa-search fa-fw"></i> 搜索</button></span>
												</div>
											<div class="tblOpen">
												<ul class="tblHead list-inline">
													<li class="ecoId">ECO编号</li>
													<li class="ecoCn">中文名称</li>
													<li class="ecoEn">英文名称</li>
												</ul>
												<div class="tblDiv">
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>
		<ul class="tblConent list-inline"><li class="ecoId">A01</li><li class="ecoCn">意大利开局</li><li class="ecoEn">Italy Gambit</li></ul>												</div>								
											</div>
										<div class="tblPgn"><span>PGN: </span><span>1.e4 e5 2.Nf3 Nc6 3. Bc4</span></div>


											</div>	
										</li>
										<li>
											<div class="positionFen positionSocial">
												<div class="btn-group btnConfirm">
													<button class="btn btn-default btn-md"><span class="glyphicon glyphicon-ok"></span> 确认</button>
													<button class="btn btn-default btn-md"><span class="glyphicon glyphicon-remove"></span> 取消</button>
												</div>
												<div class="iconSocial" >
													<span><i class="fa fa-twitter fa-2x fa-fw"></i></span>
													<span><i class="fa fa-linkedin fa-2x fa-fw"></i></span>
													<span><i class="fa fa-google-plus fa-2x fa-fw"></i></span>
													<span><i class="fa fa-facebook fa-2x fa-fw"></i></span>
												</div>
												<div class="clear"></div>
											</div>	
										</li>

									</ul>
								</div>
							</div>
							<div class="tab-pane fade" id="pgntab">
								<div class="positionSet">
									<ul>
										<li class="positionFenFirst">
											PGN 编辑器
										</li>
										<li class="clear"></li>
										<li class="positionFen btn-group">

										</li>
										<li class="clear"></li>
										<li >

										</li>
										<li class="clear"></li>
										<li>
	
										</li>
										<li>
	
										</li>

									</ul>
								</div>
							</div>
							<div class="tab-pane fade" id="testtab">
									<div class="positionSet">
										<ul>
											<li class="positionFenFirst">
												国际象棋题目编辑器
											</li>
											<li class="clear"></li>
											<li class="positionFen btn-group">

											</li>
											<li class="clear"></li>
											<li >

											</li>
											<li class="clear"></li>
											<li>
		
											</li>
											<li>
		
											</li>

										</ul>
									</div>
								</div>
							
						</div>
					</li>
					<li clear="clear"></li>
				</ul>
			</div>
		</div>
	<li class="clear"></li>
	<li class="bottom"><a href="#">网站地图</a> ｜ <a href="#">关于我们</a> ｜ <a href="#">联系我们</a> <span class="copyright"> &copy;2014 L&Y Chess 乐亿国际象棋&nbsp;&nbsp;&nbsp;沪ICP备10001010号 </span></li>
	</ul>
	</div>
<script type="text/javascript">
	var cfg ={
		position : 'start',
		Draggable : true,
		sparePieces : true
	}

	var chessboard = new ChessBoard('chessboardpostion',cfg);
	
	$("#clearPosition").click(function(event){
		chessboard.clear(true);
	});
	
	$("#startPosition").click(function(event){
		chessboard.start(true);
	});

	$("#flipPosition").click(function(event){
	chessboard.flip();
	});

	$("#drawLine").click(function(event){
		newDrawLine($("#chessboardpostion"),'a2','g7');
	});	
	
	$("#fenUpLoad").click(function(event){
		chessboard.position($("#fenDisplay").val());
	});	

	$("#fenDownLoad").click(function(event){
		$("#fenDisplay").val(chessboard.fen());
	});	
	
	function newDrawLine(board,startPos,endPos){
            var start=startPos,end=endPos;
            var boardEl = board;
            var starts = start.split('');
            var ends = end.split('');
            if ( boardEl.find('.'+ start + end).length ==0  ) { // if not exist, draw this line
            var squareWidth = boardEl.find('[data-square="a1"]').width();
            var startPosition = boardEl.find('[data-square="'+start+'"]').position();
            var endPosition = boardEl.find('[data-square="'+end+'"]').position();
            var arrowWidth = squareWidth/8;
            var top= startPosition.top+squareWidth/2-arrowWidth*3/4;
            var left=startPosition.left+squareWidth/2;
            var angle = Math.atan2((endPosition.top-startPosition.top),endPosition.left-startPosition.left)/3.14159*180;
            var length = Math.sqrt(Math.pow(Math.abs(endPosition.top-startPosition.top)-12,2)+Math.pow(Math.abs(endPosition.left-startPosition.left)-12,2));

            //board-b7271
            //style="width: 0;height: 0;border-top: 5px solid transparent;border-right: 12px solid #0931ae;border-bottom: 6px solid transparent;opacity: .5"
            var arrowHtml = '';
            arrowHtml = '<div class="arrow_box lineControl lineControl'+start+end+'" style="position:absolute;top:'+(top)+'px;left:'+left+'px;width:'+length+'px;height:'+7+'px;opacity: .5;transform:rotate('+angle+'deg);-webkit-transform:rotate('+angle +'deg);-webkit-transform-origin:0px;transform-origin:0px"></div>';
            boardEl.find(".row-5277c:last").after(arrowHtml); 
            }       
}
</script>
</body>
</html>